"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var vg_scrub_bar_cue_points_1 = require("./vg-scrub-bar-cue-points");
var vg_api_1 = require("../../../core/services/vg-api");
describe('Scrub bar current time', function () {
    var scrubBarCuePoints;
    var ref;
    var api;
    beforeEach(function () {
        ref = {
            nativeElement: {
                getAttribute: function (name) {
                    return name;
                },
                subscriptions: {
                    loadedMetadata: {
                        subscribe: function () {
                        }
                    }
                }
            }
        };
        api = new vg_api_1.VgAPI();
        scrubBarCuePoints = new vg_scrub_bar_cue_points_1.VgScrubBarCuePoints(ref, api);
    });
    it('Should create cue points when metadata is loaded', function () {
        var cps = {
            length: 3
        };
        var cp1 = { startTime: 1 };
        var cp2 = { startTime: 5, endTime: 10 };
        var cp3 = { startTime: 15, endTime: 20, text: "{value: 'custom params'}" };
        cps[0] = cp1;
        cps[1] = cp2;
        cps[2] = cp3;
        scrubBarCuePoints.vgCuePoints = cps;
        scrubBarCuePoints.target = {
            time: {
                total: 100000
            }
        };
        scrubBarCuePoints.ngOnChanges({ 'vgCuePoints': { currentValue: cps } });
        expect(scrubBarCuePoints.vgCuePoints[0].$$style).toEqual({ width: '1%', left: '1%' });
        expect(scrubBarCuePoints.vgCuePoints[1].$$style).toEqual({ width: '5%', left: '5%' });
        expect(scrubBarCuePoints.vgCuePoints[2].$$style).toEqual({ width: '5%', left: '15%' });
    });
    it('Should not calculate style position if there is not duration on media', function () {
        var cps = {
            length: 3
        };
        var cp1 = { startTime: 1 };
        var cp2 = { startTime: 5, endTime: 10 };
        var cp3 = { startTime: 15, endTime: 20, text: "{value: 'custom params'}" };
        cps[0] = cp1;
        cps[1] = cp2;
        cps[2] = cp3;
        scrubBarCuePoints.vgCuePoints = cps;
        scrubBarCuePoints.target = {
            time: {
                total: 0
            }
        };
        scrubBarCuePoints.ngOnChanges({ 'vgCuePoints': { currentValue: cps } });
        expect(scrubBarCuePoints.vgCuePoints[0].$$style).toEqual({ width: '0', left: '0' });
        expect(scrubBarCuePoints.vgCuePoints[1].$$style).toEqual({ width: '0', left: '0' });
        expect(scrubBarCuePoints.vgCuePoints[2].$$style).toEqual({ width: '0', left: '0' });
    });
    it('Should do nothing if there are no cue points', function () {
        scrubBarCuePoints.vgCuePoints = null;
        scrubBarCuePoints.onLoadedMetadata();
        scrubBarCuePoints.ngOnChanges({ 'vgCuePoints': { currentValue: null } });
    });
    it('Should handle after view init event', function () {
        spyOn(scrubBarCuePoints.API, 'getMediaById').and.callFake(function () {
            return ref.nativeElement;
        });
        spyOn(ref.nativeElement.subscriptions.loadedMetadata, 'subscribe').and.callThrough();
        scrubBarCuePoints.onPlayerReady();
        expect(ref.nativeElement.subscriptions.loadedMetadata.subscribe).toHaveBeenCalled();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmctc2NydWItYmFyLWN1ZS1wb2ludHMuc3BlYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInZnLXNjcnViLWJhci1jdWUtcG9pbnRzLnNwZWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxxRUFBZ0U7QUFDaEUsd0RBQXNEO0FBR3RELFFBQVEsQ0FBQyx3QkFBd0IsRUFBRTtJQUMvQixJQUFJLGlCQUFzQyxDQUFDO0lBQzNDLElBQUksR0FBZSxDQUFDO0lBQ3BCLElBQUksR0FBVSxDQUFDO0lBRWYsVUFBVSxDQUFDO1FBQ1AsR0FBRyxHQUFHO1lBQ0YsYUFBYSxFQUFFO2dCQUNYLFlBQVksRUFBRSxVQUFDLElBQUk7b0JBQ2YsTUFBTSxDQUFDLElBQUksQ0FBQztnQkFDaEIsQ0FBQztnQkFDRCxhQUFhLEVBQUU7b0JBQ1gsY0FBYyxFQUFFO3dCQUNaLFNBQVMsRUFBRTt3QkFDWCxDQUFDO3FCQUNKO2lCQUNKO2FBQ0o7U0FDSixDQUFDO1FBRUYsR0FBRyxHQUFHLElBQUksY0FBSyxFQUFFLENBQUM7UUFFbEIsaUJBQWlCLEdBQUcsSUFBSSw2Q0FBbUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsa0RBQWtELEVBQUU7UUFDbkQsSUFBSSxHQUFHLEdBQVc7WUFDZCxNQUFNLEVBQUUsQ0FBQztTQUNaLENBQUM7UUFDRixJQUFJLEdBQUcsR0FBZ0MsRUFBRSxTQUFTLEVBQUUsQ0FBQyxFQUFHLENBQUM7UUFDekQsSUFBSSxHQUFHLEdBQWdDLEVBQUUsU0FBUyxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFHLENBQUM7UUFDdEUsSUFBSSxHQUFHLEdBQWdDLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSwwQkFBMEIsRUFBRyxDQUFDO1FBRXpHLEdBQUcsQ0FBRSxDQUFDLENBQUUsR0FBRyxHQUFH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SUFBSSxDQUFDO1FBQ3JDLGlCQUFpQixDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDckMsaUJBQWlCLENBQUMsV0FBVyxDQUFDLEVBQUUsYUFBYSxFQUFpQixFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUcsRUFBRSxDQUFDLENBQUM7SUFDN0YsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMscUNBQXFDLEVBQUU7UUFDdEMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxjQUFjLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUNyRDtZQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDO1FBQzdCLENBQUMsQ0FDSixDQUFDO1FBRUYsS0FBSyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLGNBQWMsRUFBRSxXQUFXLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUM7UUFFckYsaUJBQWlCLENBQUMsYUFBYSxFQUFFLENBQUM7UUFFbEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQ3hGLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZ1NjcnViQmFyQ3VlUG9pbnRzIH0gZnJvbSAnLi92Zy1zY3J1Yi1iYXItY3VlLXBvaW50cyc7XG5pbXBvcnQgeyBWZ0FQSSB9IGZyb20gJy4uLy4uLy4uL2NvcmUvc2VydmljZXMvdmctYXBpJztcbmltcG9ydCB7IEVsZW1lbnRSZWYsIFNpbXBsZUNoYW5nZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5kZXNjcmliZSgnU2NydWIgYmFyIGN1cnJlbnQgdGltZScsICgpID0+IHtcbiAgICBsZXQgc2NydWJCYXJDdWVQb2ludHM6IFZnU2NydWJCYXJDdWVQb2ludHM7XG4gICAgbGV0IHJlZjogRWxlbWVudFJlZjtcbiAgICBsZXQgYXBpOiBWZ0FQSTtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICByZWYgPSB7XG4gICAgICAgICAgICBuYXRpdmVFbGVtZW50OiB7XG4gICAgICAgICAgICAgICAgZ2V0QXR0cmlidXRlOiAobmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVkTWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGFwaSA9IG5ldyBWZ0FQSSgpO1xuXG4gICAgICAgIHNjcnViQmFyQ3VlUG9pbnRzID0gbmV3IFZnU2NydWJCYXJDdWVQb2ludHMocmVmLCBhcGkpO1xuICAgIH0pO1xuXG4gICAgaXQoJ1Nob3VsZCBjcmVhdGUgY3VlIHBvaW50cyB3aGVuIG1ldGFkYXRhIGlzIGxvYWRlZCcsICgpID0+IHtcbiAgICAgICAgbGV0IGNwczogT2JqZWN0ID0ge1xuICAgICAgICAgICAgbGVuZ3RoOiAzXG4gICAgICAgIH07XG4gICAgICAgIGxldCBjcDE6IFRleHRUcmFja0N1ZSA9ICg8VGV4dFRyYWNrQ3VlPnsgc3RhcnRUaW1lOiAxIH0pO1xuICAgICAgICBsZXQgY3AyOiBUZXh0VHJhY2tDdWUgPSAoPFRleHRUcmFja0N1ZT57IHN0YXJ0VGltZTogNSwgZW5kVGltZTogMTAgfSk7XG4gICAgICAgIGxldCBjcDM6IFRleHRUcmFja0N1ZSA9ICg8VGV4dFRyYWNrQ3VlPnsgc3RhcnRUaW1lOiAxNSwgZW5kVGltZTogMjAsIHRleHQ6IFwie3ZhbHVlOiAnY3VzdG9tIHBhcmFtcyd9XCIgfSk7XG5cbiAgICAgICAgY3BzWyAwIF0gPSBjcDE7XG4gICAgICAgIGNwc1sgMSBdID0gY3AyO1xuICAgICAgICBjcHNbIDIgXSA9IGNwMztcblxuICAgICAgICBzY3J1YkJhckN1ZVBvaW50cy52Z0N1ZVBvaW50cyA9ICg8VGV4dFRyYWNrQ3VlTGlzdD5jcHMpO1xuXG4gICAgICAgIHNjcnViQmFyQ3VlUG9pbnRzLnRhcmdldCA9IHtcbiAgICAgICAgICAgIHRpbWU6IHtcbiAgICAgICAgICAgICAgICB0b3RhbDogMTAwMDAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NydWJCYXJDdWVQb2ludHMubmdPbkNoYW5nZXMoeyAndmdDdWVQb2ludHMnOiAoPFNpbXBsZUNoYW5nZT57IGN1cnJlbnRWYWx1ZTogY3BzIH0pIH0pO1xuXG4gICAgICAgIGV4cGVjdCgoPGFueT5zY3J1YkJhckN1ZVBvaW50cy52Z0N1ZVBvaW50c1sgMCBdKS4kJHN0eWxlKS50b0VxdWFsKHsgd2lkdGg6ICcxJScsIGxlZnQ6ICcxJScgfSk7XG4gICAgICAgIGV4cGVjdCgoPGFueT5zY3J1YkJhckN1ZVBvaW50cy52Z0N1ZVBvaW50c1sgMSBdKS4kJHN0eWxlKS50b0VxdWFsKHsgd2lkdGg6ICc1JScsIGxlZnQ6ICc1JScgfSk7XG4gICAgICAgIGV4cGVjdCgoPGFueT5zY3J1YkJhckN1ZVBvaW50cy52Z0N1ZVBvaW50c1sgMiBdKS4kJHN0eWxlKS50b0VxdWFsKHsgd2lkdGg6ICc1JScsIGxlZnQ6ICcxNSUnIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ1Nob3VsZCBub3QgY2FsY3VsYXRlIHN0eWxlIHBvc2l0aW9uIGlmIHRoZXJlIGlzIG5vdCBkdXJhdGlvbiBvbiBtZWRpYScsICgpID0+IHtcbiAgICAgICAgbGV0IGNwczogT2JqZWN0ID0ge1xuICAgICAgICAgICAgbGVuZ3RoOiAzXG4gICAgICAgIH07XG4gICAgICAgIGxldCBjcDE6IFRleHRUcmFja0N1ZSA9ICg8VGV4dFRyYWNrQ3VlPnsgc3RhcnRUaW1lOiAxIH0pO1xuICAgICAgICBsZXQgY3AyOiBUZXh0VHJhY2tDdWUgPSAoPFRleHRUcmFja0N1ZT57IHN0YXJ0VGltZTogNSwgZW5kVGltZTogMTAgfSk7XG4gICAgICAgIGxldCBjcDM6IFRleHRUcmFja0N1ZSA9ICg8VGV4dFRyYWNrQ3VlPnsgc3RhcnRUaW1lOiAxNSwgZW5kVGltZTogMjAsIHRleHQ6IFwie3ZhbHVlOiAnY3VzdG9tIHBhcmFtcyd9XCIgfSk7XG5cbiAgICAgICAgY3BzWyAwIF0gPSBjcDE7XG4gICAgICAgIGNwc1sgMSBdID0gY3AyO1xuICAgICAgICBjcHNbIDIgXSA9IGNwMztcblxuICAgICAgICBzY3J1YkJhckN1ZVBvaW50cy52Z0N1ZVBvaW50cyA9ICg8VGV4dFRyYWNrQ3VlTGlzdD5jcHMpO1xuXG4gICAgICAgIHNjcnViQmFyQ3VlUG9pbnRzLnRhcmdldCA9IHtcbiAgICAgICAgICAgIHRpbWU6IHtcbiAgICAgICAgICAgICAgICB0b3RhbDogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNjcnViQmFyQ3VlUG9pbnRzLm5nT25DaGFuZ2VzKHsgJ3ZnQ3VlUG9pbnRzJzogKDxTaW1wbGVDaGFuZ2U+eyBjdXJyZW50VmFsdWU6IGNwcyB9KSB9KTtcblxuICAgICAgICBleHBlY3QoKDxhbnk+c2NydWJCYXJDdWVQb2ludHMudmdDdWVQb2ludHNbIDAgXSkuJCRzdHlsZSkudG9FcXVhbCh7IHdpZHRoOiAnMCcsIGxlZnQ6ICcwJyB9KTtcbiAgICAgICAgZXhwZWN0KCg8YW55PnNjcnViQmFyQ3VlUG9pbnRzLnZnQ3VlUG9pbnRzWyAxIF0pLiQkc3R5bGUpLnRvRXF1YWwoeyB3aWR0aDogJzAnLCBsZWZ0OiAnMCcgfSk7XG4gICAgICAgIGV4cGVjdCgoPGFueT5zY3J1YkJhckN1ZVBvaW50cy52Z0N1ZVBvaW50c1sgMiBdKS4kJHN0eWxlKS50b0VxdWFsKHsgd2lkdGg6ICcwJywgbGVmdDogJzAnIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ1Nob3VsZCBkbyBub3RoaW5nIGlmIHRoZXJlIGFyZSBubyBjdWUgcG9pbnRzJywgKCkgPT4ge1xuICAgICAgICBzY3J1YkJhckN1ZVBvaW50cy52Z0N1ZVBvaW50cyA9IG51bGw7XG4gICAgICAgIHNjcnViQmFyQ3VlUG9pbnRzLm9uTG9hZGVkTWV0YWRhdGEoKTtcbiAgICAgICAgc2NydWJCYXJDdWVQb2ludHMubmdPbkNoYW5nZXMoeyAndmdDdWVQb2ludHMnOiAoPFNpbXBsZUNoYW5nZT57IGN1cnJlbnRWYWx1ZTogbnVsbCB9KSB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdTaG91bGQgaGFuZGxlIGFmdGVyIHZpZXcgaW5pdCBldmVudCcsICgpID0+IHtcbiAgICAgICAgc3B5T24oc2NydWJCYXJDdWVQb2ludHMuQVBJLCAnZ2V0TWVkaWFCeUlkJykuYW5kLmNhbGxGYWtlKFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWYubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBzcHlPbihyZWYubmF0aXZlRWxlbWVudC5zdWJzY3JpcHRpb25zLmxvYWRlZE1ldGFkYXRhLCAnc3Vic2NyaWJlJykuYW5kLmNhbGxUaHJvdWdoKCk7XG5cbiAgICAgICAgc2NydWJCYXJDdWVQb2ludHMub25QbGF5ZXJSZWFkeSgpO1xuXG4gICAgICAgIGV4cGVjdChyZWYubmF0aXZlRWxlbWVudC5zdWJzY3JpcHRpb25zLmxvYWRlZE1ldGFkYXRhLnN1YnNjcmliZSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xufSk7XG4iXX0=