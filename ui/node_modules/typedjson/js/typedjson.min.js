// [typedjson]  Version: 1.3.0 - 2019-03-14  
 !function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("typedjson",[],r):"object"==typeof exports?exports.typedjson=r():e.typedjson=r()}("undefined"!=typeof self?self:this,function(){return function(t){var n={};function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=n,o.d=function(e,r,t){o.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(r,e){if(1&e&&(r=o(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var n in r)o.d(t,n,function(e){return r[e]}.bind(null,n));return t},o.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},o.p="",o(o.s=0)}([function(e,r,t){"use strict";t.r(r);var s="__typedJsonJsonObjectMetadataInformation__";function i(e){return!!~[Date,Number,String,Boolean].indexOf(e)}function a(e){return!!~[Float32Array,Float64Array,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array].indexOf(e)}function c(e,r){return"string"!=typeof e||(t=e,o=(n=r)===String||n===ArrayBuffer||n===DataView,i=2<=t.length&&'"'===t[0]&&'"'===t[t.length-1],s=/^\d+$/.test(t.trim()),o&&!i||!i&&!s&&n===Date)?e:JSON.parse(e);var t,n,o,i,s}function y(e,r){return e===r||e.prototype instanceof r}function u(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"object"==typeof console&&"function"==typeof console.error?console.error.apply(console,[e].concat(r)):"object"==typeof console&&"function"==typeof console.log&&console.log.apply(console,["ERROR: "+e].concat(r))}function l(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"object"==typeof console&&"function"==typeof console.warn?console.warn.apply(console,[e].concat(r)):"object"==typeof console&&"function"==typeof console.log&&console.log.apply(console,["WARNING: "+e].concat(r))}function p(e){return!(null==e)}function f(e,r){return"number"==typeof e?r===Number:"string"==typeof e?r===String:"boolean"==typeof e?r===Boolean:"object"==typeof e&&e instanceof r}var d="object"==typeof Reflect&&"function"==typeof Reflect.getMetadata;function h(e){return"string"==typeof e.name?e.name:"undefined"}var m=function(){function o(e){this.dataMembers=new Map,this.knownTypes=new Set,this.isExplicitlyMarked=!1,this.isHandledWithoutAnnotation=!1,this.classType=e}return o.getJsonObjectName=function(e){var r=o.getFromConstructor(e);return h(r?r.classType:e)},o.getFromConstructor=function(e){var r=e.prototype;if(r){var t;if(r.hasOwnProperty(s)&&(t=r[s]),t&&t.isExplicitlyMarked)return t;if(o.doesHandleWithoutAnnotation(e)){var n=new o(e);return n.isExplicitlyMarked=!0,n}}},o.getKnownTypeNameFromType=function(e){var r=o.getFromConstructor(e);return h(r?r.classType:e)},o.doesHandleWithoutAnnotation=function(e){return i(e)||a(e)||e===DataView||e===ArrayBuffer},o}();function v(e,r,t){var n,o="@jsonMember on "+h(e.constructor)+"."+String(r);if("function"!=typeof e)if("function"!=typeof e[r])if(t&&(t.ctor||t.deserializer)){if(e.hasOwnProperty(s))n=e[s];else{n=new m(e.constructor);var i=e[s];i&&i.dataMembers.forEach(function(e,r){return n.dataMembers.set(r,e)}),Object.defineProperty(e,s,{enumerable:!1,configurable:!1,writable:!1,value:n})}t.deserializer||n.knownTypes.add(t.ctor),t.keyType&&n.knownTypes.add(t.keyType),t.elementType&&t.elementType.forEach(function(e){return n.knownTypes.add(e)}),n.dataMembers.set(t.name,t)}else u(o+": JsonMemberMetadata has unknown ctor.");else u(o+": cannot use a method property.");else u(o+": cannot use a static property.")}var w=function(){return(w=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};var n=function(){function e(){this._typeHintEmitter=function(e,r,t,n){if(r.constructor!==t){var o=n&&n.name?n.name:h(r.constructor);e.__type=o}},this._errorHandler=function(e){return u(e)}}return e.prototype.setTypeHintEmitter=function(e){if("function"!=typeof e)throw new TypeError("'typeEmitterCallback' is not a function.");this._typeHintEmitter=e},e.prototype.setErrorHandler=function(e){if("function"!=typeof e)throw new TypeError("'errorHandlerCallback' is not a function.");this._errorHandler=e},e.prototype.convertSingleValue=function(e,r,t){if(void 0===t&&(t="object"),p(e))if(f(e,r.selfType)){return i(r.selfType)?e:r.selfType===ArrayBuffer?this.convertAsArrayBuffer(e):r.selfType===DataView?this.convertAsDataView(e):r.selfType===Array?this.convertAsArray(e,r.elementTypes,t):r.selfType===Set?this.convertAsSet(e,r.elementTypes[0],t):r.selfType===Map?this.convertAsMap(e,r.keyType,r.elementTypes[0],t):a(r.selfType)?this.convertAsTypedArray(e):"object"==typeof e?this.convertAsObject(e,r,t):void 0}else{var n=h(r.selfType),o=h(e.constructor);this._errorHandler(new TypeError("Could not serialize '"+t+"': expected '"+n+"', got '"+o+"'."))}},e.prototype.convertAsObject=function(r,e,t){var n,o,i=this;if(n=r.constructor!==e.selfType&&r instanceof e.selfType?m.getFromConstructor(r.constructor):m.getFromConstructor(e.selfType)){var s=n;o={},n.dataMembers.forEach(function(e){if(e.serializer)o[e.name]=e.serializer(r[e.key]);else{if(!e.ctor)throw new TypeError("Could not serialize "+e.name+", there is no constructor nor serialization function to use.");o[e.name]=i.convertSingleValue(r[e.key],{selfType:e.ctor,elementTypes:e.elementType,keyType:e.keyType},h(s.classType)+"."+e.key)}})}else o=w({},r);return this._typeHintEmitter(o,r,e.selfType,n),o},e.prototype.convertAsArray=function(e,o,i){var r=this;if(void 0===i&&(i="object"),0===o.length||!o[0])throw new TypeError("Could not serialize "+i+" as Array: missing element type definition.");e.forEach(function(e,r){if(!f(e,o[0])){var t=h(o[0]),n=h(e.constructor);throw new TypeError("Could not serialize "+i+"["+r+"]: expected '"+t+"', got '"+n+"'.")}});var t={selfType:o[0],elementTypes:1<o.length?o.slice(1):[]};return i&&(i+="[]"),e.map(function(e){return r.convertSingleValue(e,t,i)})},e.prototype.convertAsSet=function(e,r,t){var n=this;if(void 0===t&&(t="object"),!r)throw new TypeError("Could not serialize "+t+" as Set: missing element type definition.");var o={selfType:r};t&&(t+="[]");var i=[];return e.forEach(function(e){var r=n.convertSingleValue(e,o,t);p(e)&&!p(r)||i.push(r)}),i},e.prototype.convertAsMap=function(e,r,t,n){var o=this;if(void 0===n&&(n="object"),!t)throw new TypeError("Could not serialize "+n+" as Map: missing value type definition.");if(!r)throw new TypeError("Could not serialize "+n+" as Map: missing key type definition.");var i={selfType:t,elementTypes:[t]},s={selfType:r};n&&(n+="[]");var a=[];return e.forEach(function(e,r){var t={key:o.convertSingleValue(r,s,n),value:o.convertSingleValue(e,i,n)};p(t.key)&&p(t.value)&&a.push(t)}),a},e.prototype.convertAsTypedArray=function(e){return Array.from(e)},e.prototype.convertAsArrayBuffer=function(e){return Array.from(new Uint16Array(e)).map(function(e){return String.fromCharCode(e)}).join("")},e.prototype.convertAsDataView=function(e){return this.convertAsArrayBuffer(e.buffer)},e}(),g=function(){function e(){this._typeResolver=function(e,r){if(e.__type)return r.get(e.__type)},this._errorHandler=function(e){return u(e)}}return e.prototype.setNameResolver=function(e){this._nameResolver=e},e.prototype.setTypeResolver=function(e){if("function"!=typeof e)throw new TypeError("'typeResolverCallback' is not a function.");this._typeResolver=e},e.prototype.setErrorHandler=function(e){if("function"!=typeof e)throw new TypeError("'errorHandlerCallback' is not a function.");this._errorHandler=e},e.prototype.convertAsObject=function(i,r,e){var s=this;if(void 0===e&&(e="object"),"object"==typeof i&&null!==i){var t=r.selfConstructor,n=m.getFromConstructor(t),a=r.knownTypes;n&&(a=this._mergeKnownTypes(a,this._createKnownTypesMap(n.knownTypes)));var o=this._typeResolver(i,a);if(o&&y(o,t)&&(t=o,(n=m.getFromConstructor(o))&&(a=this._mergeKnownTypes(a,this._createKnownTypesMap(n.knownTypes)))),n&&n.isExplicitlyMarked){var c=n,u={};c.dataMembers.forEach(function(e,r){var t,n=i[r],o=h(c.classType)+"."+r;if(e.deserializer)t=e.deserializer(n);else{if(!e.ctor)throw new TypeError("Cannot deserialize "+o+" thers is no constructor nor deserlization function to use.");t=s.convertSingleValue(n,{selfConstructor:e.ctor,elementConstructor:e.elementType,keyConstructor:e.keyType,knownTypes:a},o)}p(t)?u[e.key]=t:e.isRequired&&s._errorHandler(new TypeError("Missing required member '"+o+"'."))});var l=void 0;if("function"==typeof n.initializerCallback)try{if(!(l=n.initializerCallback(u,i)))throw new TypeError("Cannot deserialize "+e+": 'initializer' function returned undefined/null, but '"+h(n.classType)+"' was expected.");if(!(l instanceof n.classType))throw new TypeError("Cannot deserialize "+e+":'initializer' returned '"+h(l.constructor)+"', but '"+h(n.classType)+"' was expected,and '"+h(l.constructor)+"' is not a subtype of '"+h(n.classType)+"'")}catch(e){return void this._errorHandler(e)}else l=this._instantiateType(t);return Object.assign(l,u),n.onDeserializedMethodName&&("function"==typeof l.constructor[n.onDeserializedMethodName]?l.constructor[n.onDeserializedMethodName]():this._errorHandler(new TypeError("onDeserialized callback '"+h(n.classType)+"."+n.onDeserializedMethodName+"' is not a method."))),l}var f={};return Object.keys(i).forEach(function(e){f[e]=s.convertSingleValue(i[e],{selfConstructor:i[e].constructor,knownTypes:r.knownTypes,elementConstructor:r.elementConstructor,keyConstructor:r.keyConstructor},e)}),f}this._errorHandler(new TypeError("Cannot deserialize "+e+": 'sourceObject' must be a defined object."))},e.prototype.convertSingleValue=function(e,r,t){void 0===t&&(t="object");var n=r.selfConstructor,o=e?h(e.constructor):"undefined";if(!p(e))return e;if(this._isDirectlyDeserializableNativeType(n)){if(e.constructor===n)return e;throw new TypeError(this._makeTypeErrorMessage(h(n),e.constructor,t))}if(n===Date){if("string"==typeof e||"number"==typeof e&&0<e)return new Date(e);this._throwTypeMismatchError("Date","an ISO-8601 string",o,t)}else if(n===Float32Array){if(e instanceof Array&&e.every(function(e){return!isNaN(e)}))return new Float32Array(e);this._throwTypeMismatchError("Float32Array","a numeric source array",o,t)}else if(n===Float64Array){if(e instanceof Array&&e.every(function(e){return!isNaN(e)}))return new Float64Array(e);this._throwTypeMismatchError("Float64Array","a numeric source array",o,t)}else if(n===Uint8Array){if(e instanceof Array&&e.every(function(e){return!isNaN(e)}))return new Uint8Array(e.map(function(e){return~~e}));this._throwTypeMismatchError("Uint8Array","a numeric source array",o,t)}else if(n===Uint8ClampedArray){if(e instanceof Array&&e.every(function(e){return!isNaN(e)}))return new Uint8ClampedArray(e.map(function(e){return~~e}));this._throwTypeMismatchError("Uint8ClampedArray","a numeric source array",o,t)}else if(n===Uint16Array){if(e instanceof Array&&e.every(function(e){return!isNaN(e)}))return new Uint16Array(e.map(function(e){return~~e}));this._throwTypeMismatchError("Uint16Array","a numeric source array",o,t)}else if(n===Uint32Array){if(e instanceof Array&&e.every(function(e){return!isNaN(e)}))return new Uint32Array(e.map(function(e){return~~e}));this._throwTypeMismatchError("Uint32Array","a numeric source array",o,t)}else if(n===ArrayBuffer){if("string"==typeof e)return this._stringToArrayBuffer(e);this._throwTypeMismatchError("ArrayBuffer","a string source",o,t)}else if(n===DataView){if("string"==typeof e)return this._stringToDataView(e);this._throwTypeMismatchError("DataView","a string source",o,t)}else{if(n===Array){if(e instanceof Array)return this.convertAsArray(e,r,t);throw new TypeError(this._makeTypeErrorMessage(Array,e.constructor,t))}if(n===Set){if(e instanceof Array)return this.convertAsSet(e,r,t);this._throwTypeMismatchError("Set","Array",o,t)}else if(n===Map){if(e instanceof Array)return this.convertAsMap(e,r,t);this._throwTypeMismatchError("Map","a source array of key-value-pair objects",o,t)}else if(e&&"object"==typeof e)return this.convertAsObject(e,r,t)}},e.prototype.convertAsArray=function(e,r,t){var n=this;if(void 0===t&&(t="object"),!(e instanceof Array))return this._errorHandler(new TypeError(this._makeTypeErrorMessage(Array,e.constructor,t))),[];if(!r.elementConstructor||!r.elementConstructor.length)return this._errorHandler(new TypeError("Could not deserialize "+t+" as Array: missing constructor reference of Array elements.")),[];var o={selfConstructor:r.elementConstructor[0],elementConstructor:1<r.elementConstructor.length?r.elementConstructor.slice(1):[],knownTypes:r.knownTypes};return e.map(function(e){try{return n.convertSingleValue(e,o)}catch(e){return void n._errorHandler(e)}})},e.prototype.convertAsSet=function(e,r,t){var n=this;if(void 0===t&&(t="object"),!(e instanceof Array))return this._errorHandler(new TypeError(this._makeTypeErrorMessage(Array,e.constructor,t))),new Set;if(!r.elementConstructor||!r.elementConstructor.length)return this._errorHandler(new TypeError("Could not deserialize "+t+" as Set: missing constructor reference of Set elements.")),new Set;var o={selfConstructor:r.elementConstructor[0],elementConstructor:1<r.elementConstructor.length?r.elementConstructor.slice(1):[],knownTypes:r.knownTypes},i=new Set;return e.forEach(function(e,r){try{i.add(n.convertSingleValue(e,o,t+"["+r+"]"))}catch(e){n._errorHandler(e)}}),i},e.prototype.convertAsMap=function(e,r,t){var n=this;if(void 0===t&&(t="object"),e instanceof Array||this._errorHandler(new TypeError(this._makeTypeErrorMessage(Array,e.constructor,t))),!r.keyConstructor)return this._errorHandler(new TypeError("Could not deserialize "+t+" as Map: missing key constructor.")),new Map;if(!r.elementConstructor||!r.elementConstructor.length)return this._errorHandler(new TypeError("Could not deserialize "+t+" as Map: missing value constructor.")),new Map;var o={selfConstructor:r.keyConstructor,knownTypes:r.knownTypes},i={selfConstructor:r.elementConstructor[0],elementConstructor:1<r.elementConstructor.length?r.elementConstructor.slice(1):[],knownTypes:r.knownTypes},s=new Map;return e.forEach(function(e){try{var r=n.convertSingleValue(e.key,o);p(r)&&s.set(r,n.convertSingleValue(e.value,i,t+"["+r+"]"))}catch(e){n._errorHandler(e)}}),s},e.prototype._throwTypeMismatchError=function(e,r,t,n){throw void 0===n&&(n="object"),new TypeError("Could not deserialize "+n+" as "+e+": expected "+r+", got "+t+".")},e.prototype._makeTypeErrorMessage=function(e,r,t){return void 0===t&&(t="object"),"Could not deserialize "+t+": expected '"+("function"==typeof e?h(e):e)+"', got '"+("function"==typeof r?h(r):r)+"'."},e.prototype._instantiateType=function(e){return new e},e.prototype._mergeKnownTypes=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=new Map;return e.forEach(function(e){e.forEach(function(e,r){t._nameResolver?n.set(t._nameResolver(e),e):n.set(r,e)})}),n},e.prototype._createKnownTypesMap=function(e){var n=this,o=new Map;return e.forEach(function(e){if(n._nameResolver)o.set(n._nameResolver(e),e);else{var r=m.getFromConstructor(e),t=r&&r.isExplicitlyMarked&&r.name?r.name:e.name;o.set(t,e)}}),o},e.prototype._isDirectlyDeserializableNativeType=function(e){return~[Number,String,Boolean].indexOf(e)},e.prototype.convertNativeObject=function(e){return e},e.prototype._stringToArrayBuffer=function(e){for(var r=new ArrayBuffer(2*e.length),t=new Uint16Array(r),n=0,o=e.length;n<o;n++)t[n]=e.charCodeAt(n);return r},e.prototype._stringToDataView=function(e){return new DataView(this._stringToArrayBuffer(e))},e}(),T=function(){return(T=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)},o=function(){function o(e,r){this.serializer=new n,this.deserializer=new g,this.globalKnownTypes=[],this.indent=0;var t=m.getFromConstructor(e);if(!t||!t.isExplicitlyMarked&&!t.isHandledWithoutAnnotation)throw new TypeError("The TypedJSON root data type must have the @jsonObject decorator used.");this.nameResolver=function(e){return h(e)},this.rootConstructor=e,this.errorHandler=function(e){return u(e)},r?this.config(r):o._globalConfig&&this.config({})}return o.parse=function(e,r,t){return new o(r,t).parse(e)},o.parseAsArray=function(e,r,t,n){return new o(r,t).parseAsArray(e,n)},o.parseAsSet=function(e,r,t){return new o(r,t).parseAsSet(e)},o.parseAsMap=function(e,r,t,n){return new o(t,n).parseAsMap(e,r)},o.toPlainJson=function(e,r,t){return new o(r,t).toPlainJson(e)},o.toPlainArray=function(e,r,t,n){return new o(r,n).toPlainArray(e,t)},o.toPlainSet=function(e,r,t){return new o(r,t).stringifyAsSet(e)},o.toPlainMap=function(e,r,t,n){return new o(t,n).stringifyAsMap(e,r)},o.stringify=function(e,r,t){return new o(r,t).stringify(e)},o.stringifyAsArray=function(e,r,t,n){return new o(r,n).stringifyAsArray(e,t)},o.stringifyAsSet=function(e,r,t){return new o(r,t).stringifyAsSet(e)},o.stringifyAsMap=function(e,r,t,n){return new o(t,n).stringifyAsMap(e,r)},o.setGlobalConfig=function(e){this._globalConfig?Object.assign(this._globalConfig,e):this._globalConfig=e},o.prototype.config=function(e){o._globalConfig&&(e=T({},o._globalConfig,e)).knownTypes&&o._globalConfig.knownTypes&&(e.knownTypes=Array.from(new Set(e.knownTypes.concat(o._globalConfig.knownTypes)))),e.errorHandler&&(this.errorHandler=e.errorHandler,this.deserializer.setErrorHandler(e.errorHandler),this.serializer.setErrorHandler(e.errorHandler)),e.replacer&&(this.replacer=e.replacer),e.typeResolver&&this.deserializer.setTypeResolver(e.typeResolver),e.typeHintEmitter&&this.serializer.setTypeHintEmitter(e.typeHintEmitter),e.indent&&(this.indent=e.indent),e.nameResolver&&(this.nameResolver=e.nameResolver,this.deserializer.setNameResolver(e.nameResolver)),e.knownTypes&&(e.knownTypes.forEach(function(e,r){null==e&&l("TypedJSON.config: 'knownTypes' contains an undefined/null value (element "+r+").")}),this.globalKnownTypes=e.knownTypes)},o.prototype.parse=function(e){var r,t=this,n=c(e,this.rootConstructor),o=m.getFromConstructor(this.rootConstructor),i=new Map;this.globalKnownTypes.filter(function(e){return e}).forEach(function(e){i.set(t.nameResolver(e),e)}),o&&o.knownTypes.forEach(function(e){i.set(t.nameResolver(e),e)});try{r=this.deserializer.convertSingleValue(n,{selfConstructor:this.rootConstructor,knownTypes:i})}catch(e){this.errorHandler(e)}return r},o.prototype.parseAsArray=function(e,r){void 0===r&&(r=1);var t=c(e,Array);return t instanceof Array?this.deserializer.convertAsArray(t,{selfConstructor:Array,elementConstructor:new Array(r-1).fill(Array).concat(this.rootConstructor),knownTypes:this._mapKnownTypes(this.globalKnownTypes)}):(this.errorHandler(new TypeError("Expected 'json' to define an Array, but got "+typeof t+".")),[])},o.prototype.parseAsSet=function(e){var r=c(e,Set);return r instanceof Array?this.deserializer.convertAsSet(r,{selfConstructor:Array,elementConstructor:[this.rootConstructor],knownTypes:this._mapKnownTypes(this.globalKnownTypes)}):(this.errorHandler(new TypeError("Expected 'json' to define a Set (using an Array), but got "+typeof r+".")),new Set)},o.prototype.parseAsMap=function(e,r){var t=c(e,Map);return t instanceof Array?this.deserializer.convertAsMap(t,{selfConstructor:Array,elementConstructor:[this.rootConstructor],knownTypes:this._mapKnownTypes(this.globalKnownTypes),keyConstructor:r}):(this.errorHandler(new TypeError("Expected 'json' to define a Set (using an Array), but got "+typeof t+".")),new Map)},o.prototype.toPlainJson=function(e){try{return this.serializer.convertSingleValue(e,{selfType:this.rootConstructor})}catch(e){this.errorHandler(e)}},o.prototype.toPlainArray=function(e,r){void 0===r&&(r=1);try{var t=new Array(r-1).fill(Array).concat(this.rootConstructor);return this.serializer.convertAsArray(e,t)}catch(e){this.errorHandler(e)}},o.prototype.toPlainSet=function(e){try{return this.serializer.convertAsSet(e,this.rootConstructor)}catch(e){this.errorHandler(e)}},o.prototype.toPlainMap=function(e,r){try{return this.serializer.convertAsMap(e,r,this.rootConstructor)}catch(e){this.errorHandler(e)}},o.prototype.stringify=function(e){var r=this.toPlainJson(e);return void 0===r?"":JSON.stringify(r,this.replacer,this.indent)},o.prototype.stringifyAsArray=function(e,r){return JSON.stringify(this.toPlainArray(e,r),this.replacer,this.indent)},o.prototype.stringifyAsSet=function(e){return JSON.stringify(this.toPlainSet(e),this.replacer,this.indent)},o.prototype.stringifyAsMap=function(e,r){return JSON.stringify(this.toPlainMap(e,r),this.replacer,this.indent)},o.prototype._mapKnownTypes=function(e){var r=this,t=new Map;return e.filter(function(e){return e}).forEach(function(e){return t.set(r.nameResolver(e),e)}),t},o}();function A(e){var n;function r(e){var t;if(e.prototype.hasOwnProperty(s))(t=e.prototype[s]).classType=e;else{t=new m(e);var r=e.prototype[s];r&&(r.dataMembers.forEach(function(e,r){return t.dataMembers.set(r,e)}),r.knownTypes.forEach(function(e){return t.knownTypes.add(e)})),Object.defineProperty(e.prototype,s,{enumerable:!1,configurable:!1,writable:!1,value:t})}t.isExplicitlyMarked=!0,t.onDeserializedMethodName=n.onDeserialized,t.initializerCallback=n.initializer,n.name&&(t.name=n.name),"string"==typeof n.knownTypes?t.knownTypeMethodName=n.knownTypes:n.knownTypes instanceof Array&&n.knownTypes.filter(function(e){return!!e}).forEach(function(e){return t.knownTypes.add(e)})}if(n="function"==typeof e?{}:e||{},"function"!=typeof e)return r;r(e)}function b(i,e){if(!(i instanceof Object)||"string"!=typeof e&&"symbol"!=typeof e)return function(e,r){var t,n=i||{},o="@jsonMember on "+h(e.constructor)+"."+String(r);if(n.hasOwnProperty("constructor")){if(!p(n.constructor))return void u(o+": cannot resolve specified property constructor at runtime.");d&&!y(n.constructor,Reflect.getMetadata("design:type",e,r))&&l(o+": detected property type does not match 'constructor' option."),t=n.constructor}else if(d){if(!(t=Reflect.getMetadata("design:type",e,r)))return void u(o+": cannot resolve detected property constructor at runtime.")}else if(!n.deserializer)return void u(o+": ReflectDecorators is required if no 'constructor' option is specified.");M(o,t)||v(e,r,{ctor:t,emitDefaultValue:n.emitDefaultValue||!1,isRequired:n.isRequired||!1,key:r.toString(),name:n.name||r.toString(),deserializer:n.deserializer,serializer:n.serializer})};var r=i,t="@jsonMember on "+h(r.constructor)+"."+String(e);if(d){var n=Reflect.getMetadata("design:type",r,e);n?M(t,n)||v(r,e,{ctor:n,key:e.toString(),name:e.toString()}):u(t+": could not resolve detected property constructor at runtime.")}else u(t+": ReflectDecorators is required if no 'constructor' option is specified.")}function M(e,r){return r===Array?(u(e+": property is an Array. Use the jsonArrayMember decorator to serialize this property."),!0):r===Set?(u(e+": property is a Set. Use the jsonSetMember decorator to serialize this property."),!0):r===Map&&(u(e+": property is a Map. Use the jsonMapMember decorator to serialize this property."),!0)}function C(a,c){return void 0===c&&(c={}),function(e,r){var t="@jsonArrayMember on "+h(e.constructor)+"."+String(r);if("function"==typeof a){var n,o,i,s=void 0===c.dimensions?1:c.dimensions;if(!isNaN(s)&&s<1)u(t+": 'dimensions' option must be at least 1.");else if(d&&Reflect.getMetadata("design:type",e,r)!==Array)u(t+": property is not an Array.");else v(e,r,{ctor:Array,elementType:(n=a,o=s,i=new Array(o).fill(Array,0,-1),i[o-1]=n,i),emitDefaultValue:c.emitDefaultValue||!1,isRequired:c.isRequired||!1,key:r.toString(),name:c.name||r.toString(),deserializer:c.deserializer,serializer:c.serializer})}else u(t+": could not resolve constructor of array elements at runtime.")}}function E(n,o){return void 0===o&&(o={}),function(e,r){var t="@jsonSetMember on "+h(e.constructor)+"."+String(r);"function"==typeof n?d&&Reflect.getMetadata("design:type",e,r)!==Set?u(t+": property is not a Set."):v(e,r,{ctor:Set,elementType:[n],emitDefaultValue:o.emitDefaultValue||!1,isRequired:o.isRequired||!1,key:r.toString(),name:o.name||r.toString(),deserializer:o.deserializer,serializer:o.serializer}):u(t+": could not resolve constructor of set elements at runtime.")}}function k(n,o,i){return void 0===i&&(i={}),function(e,r){var t="@jsonMapMember on "+h(e.constructor)+"."+String(r);"function"==typeof n?"function"==typeof o?d&&Reflect.getMetadata("design:type",e,r)!==Map?u(t+": property is not a Map."):v(e,r,{ctor:Map,elementType:[o],keyType:n,emitDefaultValue:i.emitDefaultValue||!1,isRequired:i.isRequired||!1,key:r.toString(),name:i.name||r.toString(),deserializer:i.deserializer,serializer:i.serializer}):u(t+": could not resolve constructor of map values at runtime."):u(t+": could not resolve constructor of map keys at runtime.")}}function S(r){if("function"!=typeof r)return function(e){_(e,r)};_(r,{})}function _(e,r){if(!r.overwrite&&e.prototype.toJSON)throw new Error(e.name+" already has toJSON defined!");e.prototype.toJSON=function(){return o.toPlainJson(this,Object.getPrototypeOf(this).constructor)}}t.d(r,"TypedJSON",function(){return o}),t.d(r,"jsonObject",function(){return A}),t.d(r,"jsonMember",function(){return b}),t.d(r,"jsonArrayMember",function(){return C}),t.d(r,"jsonSetMember",function(){return E}),t.d(r,"jsonMapMember",function(){return k}),t.d(r,"toJson",function(){return S})}])});
//# sourceMappingURL=typedjson.min.js.map 